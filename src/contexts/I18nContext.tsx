import React, { createContext, useContext, useEffect, useState } from 'react';
import i18n from 'i18next';
import { initReactI18next, useTranslation } from 'react-i18next';
import LanguageDetector from 'i18next-browser-languagedetector';
import { Language } from '@/types';

interface I18nContextType {
  language: string;
  setLanguage: (language: string) => void;
  languages: Language[];
  t: (key: string, options?: any) => string;
  ready: boolean;
}

const I18nContext = createContext<I18nContextType | undefined>(undefined);

export const useI18n = () => {
  const context = useContext(I18nContext);
  if (context === undefined) {
    throw new Error('useI18n must be used within an I18nProvider');
  }
  return context;
};

interface I18nProviderProps {
  children: React.ReactNode;
}

const LANGUAGES: Language[] = [
  { code: 'en', name: 'English', nativeName: 'English', isRTL: false },
  { code: 'es', name: 'Spanish', nativeName: 'Español', isRTL: false },
  { code: 'fr', name: 'French', nativeName: 'Français', isRTL: false },
  { code: 'de', name: 'German', nativeName: 'Deutsch', isRTL: false },
  { code: 'pt', name: 'Portuguese', nativeName: 'Português', isRTL: false },
  { code: 'it', name: 'Italian', nativeName: 'Italiano', isRTL: false },
  { code: 'nl', name: 'Dutch', nativeName: 'Nederlands', isRTL: false },
  { code: 'ru', name: 'Russian', nativeName: 'Русский', isRTL: false },
  { code: 'ja', name: 'Japanese', nativeName: '日本語', isRTL: false },
  { code: 'ko', name: 'Korean', nativeName: '한국어', isRTL: false },
  { code: 'zh', name: 'Chinese', nativeName: '中文', isRTL: false },
  { code: 'ar', name: 'Arabic', nativeName: 'العربية', isRTL: true },
  { code: 'hi', name: 'Hindi', nativeName: 'हिन्दी', isRTL: false },
  { code: 'tr', name: 'Turkish', nativeName: 'Türkçe', isRTL: false },
  { code: 'pl', name: 'Polish', nativeName: 'Polski', isRTL: false },
];

// English translations (default)
const enTranslations = {
  common: {
    loading: 'Loading...',
    error: 'An error occurred',
    success: 'Success!',
    cancel: 'Cancel',
    save: 'Save',
    delete: 'Delete',
    edit: 'Edit',
    add: 'Add',
    search: 'Search',
    filter: 'Filter',
    sort: 'Sort',
    view: 'View',
    close: 'Close',
    back: 'Back',
    next: 'Next',
    previous: 'Previous',
    submit: 'Submit',
    reset: 'Reset',
    confirm: 'Confirm',
    yes: 'Yes',
    no: 'No',
    ok: 'OK',
    retry: 'Retry',
    refresh: 'Refresh',
    download: 'Download',
    upload: 'Upload',
    share: 'Share',
    copy: 'Copy',
    paste: 'Paste',
    cut: 'Cut',
    select: 'Select',
    deselect: 'Deselect',
    selectAll: 'Select All',
    clear: 'Clear',
    apply: 'Apply',
    done: 'Done',
    finish: 'Finish',
    start: 'Start',
    stop: 'Stop',
    pause: 'Pause',
    resume: 'Resume',
    continue: 'Continue',
    skip: 'Skip',
    help: 'Help',
    support: 'Support',
    contact: 'Contact',
    about: 'About',
    settings: 'Settings',
    preferences: 'Preferences',
    profile: 'Profile',
    account: 'Account',
    logout: 'Logout',
    login: 'Login',
    signup: 'Sign Up',
    signin: 'Sign In',
    password: 'Password',
    email: 'Email',
    username: 'Username',
    name: 'Name',
    firstName: 'First Name',
    lastName: 'Last Name',
    phone: 'Phone',
    address: 'Address',
    city: 'City',
    state: 'State',
    country: 'Country',
    zipCode: 'ZIP Code',
    date: 'Date',
    time: 'Time',
    amount: 'Amount',
    currency: 'Currency',
    percentage: 'Percentage',
    total: 'Total',
    subtotal: 'Subtotal',
    tax: 'Tax',
    discount: 'Discount',
    balance: 'Balance',
    debt: 'Debt',
    payment: 'Payment',
    income: 'Income',
    expense: 'Expense',
    budget: 'Budget',
    goal: 'Goal',
    target: 'Target',
    progress: 'Progress',
    status: 'Status',
    active: 'Active',
    inactive: 'Inactive',
    pending: 'Pending',
    completed: 'Completed',
    cancelled: 'Cancelled',
    overdue: 'Overdue',
    due: 'Due',
    paid: 'Paid',
    unpaid: 'Unpaid',
    partial: 'Partial',
    full: 'Full',
    minimum: 'Minimum',
    extra: 'Extra',
    monthly: 'Monthly',
    weekly: 'Weekly',
    yearly: 'Yearly',
    daily: 'Daily',
    today: 'Today',
    yesterday: 'Yesterday',
    tomorrow: 'Tomorrow',
    thisWeek: 'This Week',
    lastWeek: 'Last Week',
    nextWeek: 'Next Week',
    thisMonth: 'This Month',
    lastMonth: 'Last Month',
    nextMonth: 'Next Month',
    thisYear: 'This Year',
    lastYear: 'Last Year',
    nextYear: 'Next Year',
    january: 'January',
    february: 'February',
    march: 'March',
    april: 'April',
    may: 'May',
    june: 'June',
    july: 'July',
    august: 'August',
    september: 'September',
    october: 'October',
    november: 'November',
    december: 'December',
    monday: 'Monday',
    tuesday: 'Tuesday',
    wednesday: 'Wednesday',
    thursday: 'Thursday',
    friday: 'Friday',
    saturday: 'Saturday',
    sunday: 'Sunday',
  },
  navigation: {
    dashboard: 'Dashboard',
    debts: 'Debts',
    payments: 'Payments',
    income: 'Income',
    budget: 'Budget',
    analytics: 'Analytics',
    calendar: 'Calendar',
    reports: 'Reports',
    education: 'Education',
    settings: 'Settings',
    profile: 'Profile',
    help: 'Help',
    support: 'Support',
    about: 'About',
    contact: 'Contact',
    privacy: 'Privacy',
    terms: 'Terms',
    pricing: 'Pricing',
    features: 'Features',
    testimonials: 'Testimonials',
    blog: 'Blog',
    careers: 'Careers',
    press: 'Press',
    partners: 'Partners',
    developers: 'Developers',
    api: 'API',
    documentation: 'Documentation',
    changelog: 'Changelog',
    status: 'Status',
    security: 'Security',
    compliance: 'Compliance',
    accessibility: 'Accessibility',
    sitemap: 'Sitemap',
  },
  auth: {
    signIn: 'Sign In',
    signUp: 'Sign Up',
    signOut: 'Sign Out',
    forgotPassword: 'Forgot Password?',
    resetPassword: 'Reset Password',
    email: 'Email Address',
    password: 'Password',
    confirmPassword: 'Confirm Password',
    firstName: 'First Name',
    lastName: 'Last Name',
    displayName: 'Display Name',
    rememberMe: 'Remember Me',
    staySignedIn: 'Stay Signed In',
    createAccount: 'Create Account',
    alreadyHaveAccount: 'Already have an account?',
    dontHaveAccount: "Don't have an account?",
    signInWithGoogle: 'Sign in with Google',
    signUpWithGoogle: 'Sign up with Google',
    or: 'or',
    bySigningUp: 'By signing up, you agree to our',
    termsOfService: 'Terms of Service',
    and: 'and',
    privacyPolicy: 'Privacy Policy',
    passwordRequirements: 'Password must be at least 8 characters long',
    emailSent: 'Email sent! Check your inbox.',
    passwordResetSent: 'Password reset email sent!',
    accountCreated: 'Account created successfully!',
    welcomeBack: 'Welcome back!',
    invalidCredentials: 'Invalid email or password',
    emailAlreadyExists: 'An account with this email already exists',
    weakPassword: 'Password is too weak',
    invalidEmail: 'Please enter a valid email address',
    passwordsDontMatch: 'Passwords do not match',
    fieldRequired: 'This field is required',
    minLength: 'Must be at least {{min}} characters',
    maxLength: 'Must be no more than {{max}} characters',
    invalidFormat: 'Invalid format',
  },
  dashboard: {
    welcome: 'Welcome back',
    overview: 'Overview',
    quickStats: 'Quick Stats',
    recentActivity: 'Recent Activity',
    upcomingPayments: 'Upcoming Payments',
    debtProgress: 'Debt Progress',
    incomeOverview: 'Income Overview',
    budgetStatus: 'Budget Status',
    tips: 'Tips & Motivation',
    quickActions: 'Quick Actions',
    addDebt: 'Add Debt',
    addPayment: 'Add Payment',
    addIncome: 'Add Income',
    viewReports: 'View Reports',
    setGoals: 'Set Goals',
    trackProgress: 'Track Progress',
    getHelp: 'Get Help',
  },
  debt: {
    title: 'Debt Management',
    addDebt: 'Add New Debt',
    editDebt: 'Edit Debt',
    deleteDebt: 'Delete Debt',
    debtName: 'Debt Name',
    debtType: 'Debt Type',
    balance: 'Current Balance',
    originalBalance: 'Original Balance',
    interestRate: 'Interest Rate',
    minimumPayment: 'Minimum Payment',
    dueDate: 'Due Date',
    startDate: 'Start Date',
    endDate: 'End Date',
    notes: 'Notes',
    isActive: 'Active',
    totalDebt: 'Total Debt',
    averageInterest: 'Average Interest Rate',
    debtFreeDate: 'Debt-Free Date',
    monthlyPayment: 'Monthly Payment',
    progress: 'Progress',
    payoffStrategy: 'Payoff Strategy',
    snowball: 'Snowball Method',
    avalanche: 'Avalanche Method',
    custom: 'Custom Order',
    estimatedPayoff: 'Estimated Payoff',
    totalInterest: 'Total Interest',
    saveOnInterest: 'Save on Interest',
    acceleratePayoff: 'Accelerate Payoff',
    debtTypes: {
      creditCard: 'Credit Card',
      personalLoan: 'Personal Loan',
      studentLoan: 'Student Loan',
      mortgage: 'Mortgage',
      autoLoan: 'Auto Loan',
      medical: 'Medical',
      business: 'Business',
      other: 'Other',
    },
  },
  payment: {
    title: 'Payment Tracker',
    addPayment: 'Add Payment',
    editPayment: 'Edit Payment',
    deletePayment: 'Delete Payment',
    paymentAmount: 'Payment Amount',
    paymentDate: 'Payment Date',
    paymentType: 'Payment Type',
    notes: 'Notes',
    receipt: 'Receipt',
    uploadReceipt: 'Upload Receipt',
    paymentHistory: 'Payment History',
    totalPaid: 'Total Paid',
    remainingBalance: 'Remaining Balance',
    paymentTypes: {
      minimum: 'Minimum Payment',
      extra: 'Extra Payment',
      full: 'Full Payment',
    },
  },
  income: {
    title: 'Income & Skills',
    addIncome: 'Add Income Stream',
    editIncome: 'Edit Income',
    deleteIncome: 'Delete Income',
    incomeName: 'Income Name',
    incomeType: 'Income Type',
    amount: 'Amount',
    frequency: 'Frequency',
    startDate: 'Start Date',
    endDate: 'End Date',
    notes: 'Notes',
    isActive: 'Active',
    totalIncome: 'Total Income',
    monthlyIncome: 'Monthly Income',
    incomeGrowth: 'Income Growth',
    skills: 'Skills',
    addSkill: 'Add Skill',
    editSkill: 'Edit Skill',
    deleteSkill: 'Delete Skill',
    skillName: 'Skill Name',
    skillCategory: 'Category',
    proficiency: 'Proficiency Level',
    isMonetizable: 'Can be monetized',
    estimatedHourlyRate: 'Estimated Hourly Rate',
    incomeTypes: {
      salary: 'Salary',
      freelance: 'Freelance',
      business: 'Business',
      investment: 'Investment',
      rental: 'Rental',
      sideHustle: 'Side Hustle',
      passive: 'Passive',
      other: 'Other',
    },
    skillCategories: {
      technical: 'Technical',
      creative: 'Creative',
      business: 'Business',
      service: 'Service',
      trade: 'Trade',
      language: 'Language',
      other: 'Other',
    },
  },
  analytics: {
    title: 'Analytics & Insights',
    overview: 'Overview',
    trends: 'Trends',
    projections: 'Projections',
    debtToIncome: 'Debt-to-Income Ratio',
    payoffTimeline: 'Payoff Timeline',
    interestAnalysis: 'Interest Analysis',
    paymentHistory: 'Payment History',
    incomeAnalysis: 'Income Analysis',
    budgetAnalysis: 'Budget Analysis',
    recommendations: 'Recommendations',
    insights: 'Insights',
    charts: 'Charts',
    reports: 'Reports',
    export: 'Export',
    share: 'Share',
    print: 'Print',
    download: 'Download',
    generateReport: 'Generate Report',
    customDateRange: 'Custom Date Range',
    last7Days: 'Last 7 Days',
    last30Days: 'Last 30 Days',
    last3Months: 'Last 3 Months',
    last6Months: 'Last 6 Months',
    lastYear: 'Last Year',
    thisYear: 'This Year',
    allTime: 'All Time',
  },
  budget: {
    title: 'Budget Management',
    addBudget: 'Add Budget',
    editBudget: 'Edit Budget',
    deleteBudget: 'Delete Budget',
    budgetName: 'Budget Name',
    budgetType: 'Budget Type',
    totalAmount: 'Total Amount',
    startDate: 'Start Date',
    endDate: 'End Date',
    categories: 'Categories',
    addCategory: 'Add Category',
    editCategory: 'Edit Category',
    deleteCategory: 'Delete Category',
    categoryName: 'Category Name',
    allocated: 'Allocated',
    spent: 'Spent',
    remaining: 'Remaining',
    overspent: 'Overspent',
    underBudget: 'Under Budget',
    onTrack: 'On Track',
    budgetTypes: {
      emergency: 'Emergency Fund',
      monthly: 'Monthly Budget',
      debtPayoff: 'Debt Payoff',
      incomeGrowth: 'Income Growth',
    },
  },
  calendar: {
    title: 'Financial Calendar',
    events: 'Events',
    reminders: 'Reminders',
    milestones: 'Milestones',
    goals: 'Goals',
    addEvent: 'Add Event',
    editEvent: 'Edit Event',
    deleteEvent: 'Delete Event',
    eventTitle: 'Event Title',
    eventType: 'Event Type',
    eventDate: 'Event Date',
    amount: 'Amount',
    notes: 'Notes',
    isCompleted: 'Completed',
    eventTypes: {
      payment: 'Payment Due',
      milestone: 'Milestone',
      reminder: 'Reminder',
      goal: 'Goal',
    },
  },
  education: {
    title: 'Financial Education',
    courses: 'Courses',
    modules: 'Modules',
    lessons: 'Lessons',
    progress: 'Progress',
    certificate: 'Certificate',
    startCourse: 'Start Course',
    continueCourse: 'Continue Course',
    completeCourse: 'Complete Course',
    courseProgress: 'Course Progress',
    timeRemaining: 'Time Remaining',
    difficulty: 'Difficulty',
    duration: 'Duration',
    instructor: 'Instructor',
    rating: 'Rating',
    reviews: 'Reviews',
    difficultyLevels: {
      beginner: 'Beginner',
      intermediate: 'Intermediate',
      advanced: 'Advanced',
    },
  },
  ai: {
    title: 'AI Financial Advisor',
    chat: 'Chat with AI',
    askQuestion: 'Ask a question...',
    send: 'Send',
    thinking: 'AI is thinking...',
    suggestions: 'Suggested Questions',
    howToPayOffDebt: 'How can I pay off my debt faster?',
    bestPayoffStrategy: 'What\'s the best payoff strategy for me?',
    increaseIncome: 'How can I increase my income?',
    budgetTips: 'What are some budgeting tips?',
    investmentAdvice: 'Should I invest while paying off debt?',
    emergencyFund: 'How much should I save for emergencies?',
    context: 'Context',
    clearChat: 'Clear Chat',
    exportChat: 'Export Chat',
    aiPowered: 'AI-Powered',
    personalized: 'Personalized',
    realTime: 'Real-time',
    confidential: 'Confidential',
  },
  settings: {
    title: 'Settings',
    account: 'Account Settings',
    preferences: 'Preferences',
    notifications: 'Notifications',
    privacy: 'Privacy',
    security: 'Security',
    billing: 'Billing',
    subscription: 'Subscription',
    plan: 'Plan',
    upgrade: 'Upgrade',
    downgrade: 'Downgrade',
    cancel: 'Cancel Subscription',
    reactivate: 'Reactivate Subscription',
    paymentMethod: 'Payment Method',
    addPaymentMethod: 'Add Payment Method',
    removePaymentMethod: 'Remove Payment Method',
    billingHistory: 'Billing History',
    invoices: 'Invoices',
    downloadInvoice: 'Download Invoice',
    taxDocuments: 'Tax Documents',
    dataExport: 'Data Export',
    exportData: 'Export Data',
    deleteAccount: 'Delete Account',
    confirmDelete: 'Are you sure you want to delete your account?',
    deleteWarning: 'This action cannot be undone.',
    theme: 'Theme',
    language: 'Language',
    currency: 'Currency',
    timezone: 'Timezone',
    dateFormat: 'Date Format',
    timeFormat: 'Time Format',
    numberFormat: 'Number Format',
    emailNotifications: 'Email Notifications',
    pushNotifications: 'Push Notifications',
    smsNotifications: 'SMS Notifications',
    marketingEmails: 'Marketing Emails',
    newsletter: 'Newsletter',
    productUpdates: 'Product Updates',
    securityAlerts: 'Security Alerts',
    paymentReminders: 'Payment Reminders',
    milestoneAlerts: 'Milestone Alerts',
    tipsAndMotivation: 'Tips & Motivation',
    shareProgress: 'Share Progress',
    shareTestimonials: 'Share Testimonials',
    analytics: 'Analytics',
    twoFactorAuth: 'Two-Factor Authentication',
    changePassword: 'Change Password',
    currentPassword: 'Current Password',
    newPassword: 'New Password',
    confirmNewPassword: 'Confirm New Password',
    passwordRequirements: 'Password Requirements',
    passwordUpdated: 'Password updated successfully',
    profileUpdated: 'Profile updated successfully',
    settingsSaved: 'Settings saved successfully',
  },
  plans: {
    title: 'Pricing Plans',
    free: 'Free',
    starter: 'Starter',
    pro: 'Pro',
    premium: 'Premium',
    monthly: 'Monthly',
    yearly: 'Yearly',
    save: 'Save',
    popular: 'Most Popular',
    bestValue: 'Best Value',
    currentPlan: 'Current Plan',
    upgradePlan: 'Upgrade Plan',
    downgradePlan: 'Downgrade Plan',
    cancelPlan: 'Cancel Plan',
    changePlan: 'Change Plan',
    planFeatures: 'Plan Features',
    planLimits: 'Plan Limits',
    unlimited: 'Unlimited',
    perMonth: 'per month',
    perYear: 'per year',
    billedMonthly: 'Billed monthly',
    billedYearly: 'Billed yearly',
    startFree: 'Start Free',
    startTrial: 'Start Free Trial',
    noCreditCard: 'No credit card required',
    cancelAnytime: 'Cancel anytime',
    moneyBack: '30-day money-back guarantee',
    grandfathered: 'Grandfathered Rate',
    grandfatheredBadge: 'Early Adopter',
    grandfatheredTooltip: 'You\'re paying the original launch price!',
    features: {
      debts: 'Debt Accounts',
      incomeStreams: 'Income Streams',
      reports: 'Reports',
      aiChatMessages: 'AI Chat Messages',
      storage: 'Storage',
      prioritySupport: 'Priority Support',
      advancedAnalytics: 'Advanced Analytics',
      customCategories: 'Custom Categories',
      dataExport: 'Data Export',
      apiAccess: 'API Access',
      whiteLabel: 'White Label',
      dedicatedSupport: 'Dedicated Support',
      customIntegrations: 'Custom Integrations',
      onboarding: 'Onboarding',
      training: 'Training',
    },
  },
  testimonials: {
    title: 'What Our Users Say',
    subtitle: 'Join thousands of users who have transformed their financial lives',
    readMore: 'Read More',
    readLess: 'Read Less',
    verified: 'Verified User',
    location: 'Location',
    rating: 'Rating',
    review: 'Review',
    helpful: 'Helpful',
    report: 'Report',
    share: 'Share',
    writeReview: 'Write a Review',
    editReview: 'Edit Review',
    deleteReview: 'Delete Review',
    reviewTitle: 'Review Title',
    reviewContent: 'Review Content',
    reviewRating: 'Rating',
    submitReview: 'Submit Review',
    reviewSubmitted: 'Review submitted successfully',
    reviewUpdated: 'Review updated successfully',
    reviewDeleted: 'Review deleted successfully',
    thankYou: 'Thank you for your review!',
    helpfulCount: '{{count}} people found this helpful',
  },
  about: {
    title: 'About VAYRA',
    subtitle: 'Empowering financial freedom through intelligent debt management and income generation',
    mission: 'Our Mission',
    vision: 'Our Vision',
    values: 'Our Values',
    story: 'Our Story',
    team: 'Our Team',
    careers: 'Careers',
    press: 'Press',
    partners: 'Partners',
    investors: 'Investors',
    board: 'Board of Directors',
    advisors: 'Advisors',
    contact: 'Contact Us',
    location: 'Location',
    phone: 'Phone',
    email: 'Email',
    social: 'Social Media',
    follow: 'Follow Us',
    subscribe: 'Subscribe to Updates',
    newsletter: 'Newsletter',
    blog: 'Blog',
    podcast: 'Podcast',
    webinars: 'Webinars',
    events: 'Events',
    community: 'Community',
    forum: 'Forum',
    discord: 'Discord',
    slack: 'Slack',
    facebook: 'Facebook',
    twitter: 'Twitter',
    linkedin: 'LinkedIn',
    instagram: 'Instagram',
    youtube: 'YouTube',
    tiktok: 'TikTok',
    reddit: 'Reddit',
    github: 'GitHub',
    medium: 'Medium',
    substack: 'Substack',
  },
  contact: {
    title: 'Contact Us',
    subtitle: 'We\'re here to help you succeed',
    getHelp: 'Get Help',
    support: 'Support',
    sales: 'Sales',
    partnerships: 'Partnerships',
    press: 'Press',
    careers: 'Careers',
    general: 'General Inquiries',
    technical: 'Technical Support',
    billing: 'Billing Support',
    feedback: 'Feedback',
    bugReport: 'Bug Report',
    featureRequest: 'Feature Request',
    name: 'Name',
    email: 'Email',
    subject: 'Subject',
    message: 'Message',
    phone: 'Phone',
    company: 'Company',
    website: 'Website',
    howDidYouHear: 'How did you hear about us?',
    preferredContact: 'Preferred Contact Method',
    urgency: 'Urgency',
    low: 'Low',
    medium: 'Medium',
    high: 'High',
    critical: 'Critical',
    sendMessage: 'Send Message',
    messageSent: 'Message sent successfully',
    weWillRespond: 'We\'ll respond within 24 hours',
    officeHours: 'Office Hours',
    mondayFriday: 'Monday - Friday',
    saturday: 'Saturday',
    sunday: 'Sunday',
    closed: 'Closed',
    timezone: 'Timezone',
    address: 'Address',
    street: 'Street',
    city: 'City',
    state: 'State',
    zipCode: 'ZIP Code',
    country: 'Country',
    directions: 'Get Directions',
    parking: 'Parking',
    accessibility: 'Accessibility',
    wheelchair: 'Wheelchair Accessible',
    elevator: 'Elevator Available',
    hearing: 'Hearing Assistance',
    visual: 'Visual Assistance',
  },
  errors: {
    title: 'Oops! Something went wrong',
    subtitle: 'We\'re working on fixing the problem',
    notFound: 'Page Not Found',
    notFoundSubtitle: 'The page you\'re looking for doesn\'t exist',
    unauthorized: 'Unauthorized',
    unauthorizedSubtitle: 'You don\'t have permission to access this page',
    forbidden: 'Forbidden',
    forbiddenSubtitle: 'Access to this resource is forbidden',
    serverError: 'Server Error',
    serverErrorSubtitle: 'Something went wrong on our end',
    networkError: 'Network Error',
    networkErrorSubtitle: 'Please check your internet connection',
    timeout: 'Request Timeout',
    timeoutSubtitle: 'The request took too long to complete',
    retry: 'Try Again',
    goHome: 'Go Home',
    goBack: 'Go Back',
    contactSupport: 'Contact Support',
    reportIssue: 'Report Issue',
  },
  success: {
    title: 'Success!',
    subtitle: 'Your action was completed successfully',
    saved: 'Changes saved successfully',
    created: 'Created successfully',
    updated: 'Updated successfully',
    deleted: 'Deleted successfully',
    uploaded: 'Uploaded successfully',
    downloaded: 'Downloaded successfully',
    exported: 'Exported successfully',
    imported: 'Imported successfully',
    sent: 'Sent successfully',
    processed: 'Processed successfully',
    completed: 'Completed successfully',
    activated: 'Activated successfully',
    deactivated: 'Deactivated successfully',
    enabled: 'Enabled successfully',
    disabled: 'Disabled successfully',
    connected: 'Connected successfully',
    disconnected: 'Disconnected successfully',
    synced: 'Synced successfully',
    backedUp: 'Backed up successfully',
    restored: 'Restored successfully',
    migrated: 'Migrated successfully',
    upgraded: 'Upgraded successfully',
    downgraded: 'Downgraded successfully',
    cancelled: 'Cancelled successfully',
    reactivated: 'Reactivated successfully',
    refunded: 'Refunded successfully',
    charged: 'Charged successfully',
    paid: 'Paid successfully',
    received: 'Received successfully',
  },
  validation: {
    required: 'This field is required',
    email: 'Please enter a valid email address',
    minLength: 'Must be at least {{min}} characters',
    maxLength: 'Must be no more than {{max}} characters',
    min: 'Must be at least {{min}}',
    max: 'Must be no more than {{max}}',
    pattern: 'Please enter a valid format',
    url: 'Please enter a valid URL',
    phone: 'Please enter a valid phone number',
    date: 'Please enter a valid date',
    time: 'Please enter a valid time',
    number: 'Please enter a valid number',
    integer: 'Please enter a valid integer',
    positive: 'Please enter a positive number',
    negative: 'Please enter a negative number',
    decimal: 'Please enter a valid decimal number',
    currency: 'Please enter a valid currency amount',
    percentage: 'Please enter a valid percentage',
    password: 'Password must be at least 8 characters long',
    confirmPassword: 'Passwords do not match',
    acceptTerms: 'You must accept the terms and conditions',
    unique: 'This value must be unique',
    exists: 'This value already exists',
    notExists: 'This value does not exist',
    invalid: 'Invalid value',
    expired: 'This has expired',
    future: 'Must be a future date',
    past: 'Must be a past date',
    today: 'Must be today',
    tomorrow: 'Must be tomorrow',
    yesterday: 'Must be yesterday',
    thisWeek: 'Must be this week',
    lastWeek: 'Must be last week',
    nextWeek: 'Must be next week',
    thisMonth: 'Must be this month',
    lastMonth: 'Must be last month',
    nextMonth: 'Must be next month',
    thisYear: 'Must be this year',
    lastYear: 'Must be last year',
    nextYear: 'Must be next year',
  },
};

// Initialize i18next
i18n
  .use(LanguageDetector)
  .use(initReactI18next)
  .init({
    resources: {
      en: {
        translation: enTranslations,
      },
      // Add other languages here as needed
      es: {
        translation: {
          // Spanish translations would go here
        },
      },
    },
    fallbackLng: 'en',
    debug: import.meta.env.DEV,
    interpolation: {
      escapeValue: false,
    },
    detection: {
      order: ['localStorage', 'navigator'],
      caches: ['localStorage'],
    },
  });

export const I18nProvider: React.FC<I18nProviderProps> = ({ children }) => {
  const [language, setLanguageState] = useState<string>(() => {
    const saved = localStorage.getItem('vayra-language');
    return saved || 'en';
  });

  const { t, ready } = useTranslation();

  useEffect(() => {
    i18n.changeLanguage(language);
    localStorage.setItem('vayra-language', language);
  }, [language]);

  const setLanguage = (newLanguage: string) => {
    setLanguageState(newLanguage);
  };

  const value: I18nContextType = {
    language,
    setLanguage,
    languages: LANGUAGES,
    t,
    ready,
  };

  return (
    <I18nContext.Provider value={value}>
      {children}
    </I18nContext.Provider>
  );
}; 