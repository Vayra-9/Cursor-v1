{
  "meta": {
    "project": "VAYRA Frontend Application",
    "date": "2025-08-25",
    "prepared_by": "Generated by TestSprite"
  },
  "product_overview": "VAYRA is a premium SaaS platform focused on debt planning and financial empowerment, combining AI-powered coaching, behavioral psychology, and premium UI/UX design. It offers a multi-tier subscription model with personalized financial tools, analytics, and reports in a responsive, accessible, and installable PWA format.",
  "core_goals": [
    "Provide seamless user authentication with both email/password and Google OAuth, ensuring secure and smooth onboarding.",
    "Implement subscription-based plan gating to control access to features across Free, Starter, Pro, and Premium tiers.",
    "Deliver a visually polished, responsive, and accessible UI/UX that meets WCAG 2.1 AA standards and achieves Lighthouse scores ≥ 90.",
    "Offer AI-enabled financial coaching and analytics to help users optimize debt payoff and savings strategies.",
    "Enable multilingual and multi-currency support for global user adoption.",
    "Ensure robust PWA capabilities including offline support, smooth navigation, and service worker management.",
    "Maintain comprehensive error handling and security compliance with Firebase Firestore rules."
  ],
  "key_features": [
    "Complete authentication system with email/password and Google OAuth, including popup/redirect fallback and plan gating.",
    "Subscription-based plan gating with automatic redirects and feature locking for Free, Starter, Pro, and Premium plans.",
    "Responsive navigation and routing with protected routes and plan gating enforcement.",
    "Landing page with hero section featuring animated VAYRA branding logo and call-to-action buttons.",
    "Multi-currency and internationalization support with currency selector and language switching.",
    "Dark/light theme toggling with system theme preference detection.",
    "Dashboard featuring financial modules such as debt calculators, payoff planners, and analytics visualizations.",
    "AI-powered chat and copilot features integrated into dashboard and standalone AI chat pages.",
    "Full PWA support including manifest, icon sets, and service worker for offline usage.",
    "Comprehensive error boundaries and detailed error handling UI for a resilient user experience.",
    "Firebase integration managing authentication, real-time Firestore database access, and secure access rules.",
    "Reusable UI components styled with Tailwind CSS and motion enhancements via Framer Motion.",
    "Testing infrastructure for automated frontend tests ensuring stability and quality."
  ],
  "user_flow_summary": [
    "User visits landing page (/) showcasing branding and hero section with animated logo and clear CTAs.",
    "New or returning users access authentication flows via /auth/sign-in or /auth/sign-up, with options for email/password or Google OAuth sign-in.",
    "Post login, users are routed based on subscription plan: Free users redirected to /upgrade while other tiers access /dashboard and unlocked features.",
    "Users interact with dashboard modules including debt tracking, payoff planning, AI advisors, and analytics.",
    "Theme and currency preferences can be changed anytime via UI controls, persisting user settings.",
    "Users may install the app as a PWA on supported devices with offline capabilities.",
    "Error boundary triggers present to gracefully handle runtime errors and route to error pages if needed."
  ],
  "validation_criteria": [
    "Landing page has exactly one VAYRA logo above the hero H1 with crisp, responsive rendering and fade+scale animation respecting reduced motion preference.",
    "Authentication allows sign-up/sign-in with email and Google OAuth with clear, friendly error messages for common auth failures.",
    "Plan gating correctly restricts feature access and redirects free users attempting to access premium features to /upgrade.",
    "All PWA assets (logo SVG, icons, manifest) load with HTTP 200 and support installation with proper maskable icons.",
    "No critical accessibility violations detected by axe-core on key pages like landing and auth sign-in.",
    "Lighthouse audits for performance, accessibility, SEO, and best practices score ≥ 90 for mobile on landing and dashboard pages.",
    "No console errors or failed network requests related to branding, authentication, or PWA assets across navigation.",
    "Responsive UI layouts scale cleanly across breakpoints without layout shifts or content overlap.",
    "Firestore access rules allow sign-in session persistence and proper user data creation without permission errors.",
    "Animations run smoothly (no long tasks > 200ms) without inducing layout shifts or visual glitches.",
    "Error boundaries function, capturing unhandled exceptions and displaying fallback UI without app crashes."
  ],
  "code_summary": {
    "tech_stack": [
      "TypeScript",
      "React",
      "Vite",
      "Firebase",
      "Firestore",
      "Tailwind CSS",
      "Framer Motion",
      "React Router",
      "PWA"
    ],
    "features": [
      {
        "name": "Authentication System",
        "description": "Complete authentication system with email/password and Google OAuth, including popup/redirect fallback and plan gating",
        "files": [
          "src/contexts/AuthContext.tsx",
          "src/services/auth.ts",
          "src/lib/auth-api.ts",
          "src/lib/ensureUserDoc.ts",
          "src/pages/auth/SignInPage.tsx",
          "src/pages/auth/SignUpPage.tsx",
          "src/pages/auth/ForgotPasswordPage.tsx",
          "src/pages/auth/ResetPasswordPage.tsx",
          "src/components/auth/GoogleSignInButton.tsx",
          "src/components/auth/RequirePlan.tsx"
        ]
      },
      {
        "name": "Plan Gating System",
        "description": "Subscription-based plan gating with free/starter/pro/premium tiers and automatic redirects",
        "files": [
          "src/contexts/PlanContext.tsx",
          "src/components/auth/RequirePlan.tsx",
          "src/pages/Upgrade.tsx",
          "src/data/pricing.json",
          "src/data/pricing.ts"
        ]
      },
      {
        "name": "Navigation and Routing",
        "description": "Complete routing system with protected routes, plan gating, and navigation components",
        "files": [
          "src/App.tsx",
          "src/components/layout/Layout.tsx",
          "src/components/layout/Sidebar.tsx",
          "src/components/layout/AuthLayout.tsx"
        ]
      },
      {
        "name": "Landing Page and Hero",
        "description": "Main landing page with hero section, VAYRA branding, and call-to-action buttons",
        "files": [
          "src/pages/LandingPage.tsx",
          "src/components/ui/VayraLogo.tsx",
          "src/components/testimonials/Testimonials.tsx"
        ]
      },
      {
        "name": "Currency and Localization",
        "description": "Multi-currency support with localStorage-based currency selector and internationalization",
        "files": [
          "src/contexts/CurrencyContext.tsx",
          "src/hooks/useCurrency.ts",
          "src/components/ui/CurrencySelector.tsx",
          "src/contexts/I18nContext.tsx",
          "src/utils/i18n.ts"
        ]
      },
      {
        "name": "Theme System",
        "description": "Dark/light theme switching with system preference detection",
        "files": [
          "src/contexts/ThemeContext.tsx",
          "src/components/ui/ThemeSwitcher.tsx"
        ]
      },
      {
        "name": "Dashboard and Analytics",
        "description": "Main dashboard with financial modules, analytics, and debt tracking",
        "files": [
          "src/pages/dashboard/DashboardPage.tsx",
          "src/components/dashboard/Analytics.tsx",
          "src/components/dashboard/DebtDashboard.tsx",
          "src/components/dashboard/PayoffPlanner.tsx",
          "src/modules/analytics/AnalyticsLite.tsx"
        ]
      },
      {
        "name": "AI and Chat Features",
        "description": "AI-powered chat system and copilot functionality",
        "files": [
          "src/pages/ai/AIChatPage.tsx",
          "src/components/ai/AICopilot.tsx",
          "src/components/dashboard/AIAdvisorChat.tsx",
          "src/services/ai.ts"
        ]
      },
      {
        "name": "PWA and Service Worker",
        "description": "Progressive Web App with service worker registration and offline capabilities",
        "files": [
          "src/main.tsx",
          "src/service-worker.js",
          "public/manifest.webmanifest",
          "vite.config.ts"
        ]
      },
      {
        "name": "Error Handling",
        "description": "Comprehensive error boundaries and error handling throughout the application",
        "files": [
          "src/components/ErrorBoundary.tsx",
          "src/components/system/ErrorBoundary.tsx",
          "src/pages/errors/ErrorPage.tsx",
          "src/pages/errors/NotFoundPage.tsx",
          "src/pages/DevError.tsx"
        ]
      },
      {
        "name": "Firebase Integration",
        "description": "Firebase configuration, authentication, and Firestore database integration",
        "files": [
          "src/lib/firebase.ts",
          "src/services/db.ts",
          "src/services/firebase.ts",
          "firestore.rules"
        ]
      },
      {
        "name": "UI Components",
        "description": "Reusable UI components with Tailwind CSS styling",
        "files": [
          "src/components/ui/Button.tsx",
          "src/components/ui/Card.tsx",
          "src/components/ui/Input.tsx",
          "src/components/ui/LoadingSpinner.tsx",
          "src/components/ui/Modal.tsx",
          "src/components/ui/Dropdown.tsx",
          "src/components/ui/Toast.tsx"
        ]
      },
      {
        "name": "Testing Infrastructure",
        "description": "Test setup and configuration for automated testing",
        "files": [
          "src/App.test.tsx",
          "src/setupTests.ts",
          "vitest.config.ts",
          "testsprite.config.json"
        ]
      }
    ]
  }
}
